<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RKNN Whisper 구현 실전 가이드 | Mini Pi Guide</title>
    <meta name="description" content="2족 보행 로봇 활용">
    <meta name="generator" content="VitePress v2.0.0-alpha.13">
    <link rel="preload stylesheet" href="/minipi_textbook/assets/style.J1hXLFce.css" as="style">
    <link rel="preload stylesheet" href="/minipi_textbook/vp-icons.css" as="style">
    
    <script type="module" src="/minipi_textbook/assets/app.CvXPt2ag.js"></script>
    <link rel="preload" href="/minipi_textbook/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/minipi_textbook/assets/chunks/theme.BkJhEcvt.js">
    <link rel="modulepreload" href="/minipi_textbook/assets/chunks/framework.B6i8j-aH.js">
    <link rel="modulepreload" href="/minipi_textbook/assets/ai-app_voice.md.CSW_dFHI.lean.js">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Chiron+GoRound+TC:wght@200..900&amp;display=swap" rel="stylesheet">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-9f75dce3><div class="VPNavBar" data-v-9f75dce3 data-v-2a96a3d0><div class="wrapper" data-v-2a96a3d0><div class="container" data-v-2a96a3d0><div class="title" data-v-2a96a3d0><div class="VPNavBarTitle has-sidebar" data-v-2a96a3d0 data-v-1e38c6bc><a class="title" href="/minipi_textbook/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>Mini Pi Guide</span><!--[--><!--]--></a></div></div><div class="content" data-v-2a96a3d0><div class="content-body" data-v-2a96a3d0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-2a96a3d0><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-2a96a3d0 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/minipi_textbook/" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://wego-robotics.com/" target="_blank" rel="noreferrer" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>WeGo</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-2a96a3d0 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-2a96a3d0 data-v-0394ad82 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/WeGo-Robotics" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-2a96a3d0 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bf2fac68><div class="item social-links" data-v-bf2fac68><div class="VPSocialLinks social-links-list" data-v-bf2fac68 data-v-d07f11e6><!--[--><a class="VPSocialLink no-icon" href="https://github.com/WeGo-Robotics" aria-label="github" target="_blank" rel="me noopener" data-v-d07f11e6 data-v-591a6b30><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-2a96a3d0 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-2a96a3d0><div class="divider-line" data-v-2a96a3d0></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-1df9f90f data-v-8acdfeb5><div class="container" data-v-8acdfeb5><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-8acdfeb5><span class="vpi-align-left menu-icon" data-v-8acdfeb5></span><span class="menu-text" data-v-8acdfeb5>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-8acdfeb5 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-1df9f90f data-v-d9ac16f8><div class="curtain" data-v-d9ac16f8></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-d9ac16f8><span class="visually-hidden" id="sidebar-aria-label" data-v-d9ac16f8> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 has-active" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>Mini Pi 로봇과 AI 기본</h2><!----></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/minipi_textbook/ai-app/" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>개요</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/minipi_textbook/ai-app/basic.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>로봇에서 NPU 사용하기</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/minipi_textbook/ai-app/yolo.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>YOLO AI 이용해서 물체 인식하기</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/minipi_textbook/ai-app/voice.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>음성인식 & TTS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/minipi_textbook/ai-app/rkllama.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>LLM 사용하기</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1df9f90f data-v-aff0b8d7><div class="VPDoc has-sidebar has-aside" data-v-aff0b8d7 data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _minipi_textbook_ai-app_voice" data-v-7011f0d8><div><h1 id="rknn-whisper-구현-실전-가이드" tabindex="-1">RKNN Whisper 구현 실전 가이드 <a class="header-anchor" href="#rknn-whisper-구현-실전-가이드" aria-label="Permalink to “RKNN Whisper 구현 실전 가이드”">​</a></h1><p>RKNN으로 Whisper를 구동할 때 가장 중요한 핵심은 <strong>&quot;Encoder는 NPU로, Decoder는 CPU(혹은 최적화된 NPU)로 처리한다&quot;</strong>는 전략입니다. Whisper의 구조적 특성상 전체를 NPU에 올리는 것은 비효율적이기 때문입니다.</p><h2 id="기초-이론-whisper-구조와-npu-가속-전략" tabindex="-1">기초 이론: Whisper 구조와 NPU 가속 전략 <a class="header-anchor" href="#기초-이론-whisper-구조와-npu-가속-전략" aria-label="Permalink to “기초 이론: Whisper 구조와 NPU 가속 전략”">​</a></h2><h3 id="whisper의-구조" tabindex="-1">Whisper의 구조 <a class="header-anchor" href="#whisper의-구조" aria-label="Permalink to “Whisper의 구조”">​</a></h3><p>Whisper는 Transformer 기반의 Encoder-Decoder 구조입니다.</p><ul><li><strong>Encoder (무거움)</strong>: 오디오(Mel Spectrogram)를 입력받아 압축된 특징(Feature)을 추출합니다. 연산량이 많지만 구조가 고정적이라 <strong>NPU 가속에 매우 적합</strong>합니다.</li><li><strong>Decoder (가벼움/복잡함)</strong>: 텍스트를 생성합니다. 이전 토큰을 기반으로 다음 토큰을 예측하는 반복(Loop) 구조이며, KV Cache를 사용합니다. 동적 크기 때문에 <strong>CPU에서 처리</strong>하는 것이 일반적인 구현 방식입니다.</li></ul><h3 id="rknn-전략" tabindex="-1">RKNN 전략 <a class="header-anchor" href="#rknn-전략" aria-label="Permalink to “RKNN 전략”">​</a></h3><ul><li><strong>Audio Encoder</strong>: <code>.rknn</code> 모델로 변환하여 NPU에서 실행.</li><li><strong>Text Decoder</strong>: <code>whisper.cpp</code> 같은 경량화된 C++ 라이브러리를 사용하여 CPU(Arm Core)에서 실행하거나, ONNX Runtime 등으로 CPU 구동.</li></ul><h2 id="환경-설정" tabindex="-1">환경 설정 <a class="header-anchor" href="#환경-설정" aria-label="Permalink to “환경 설정”">​</a></h2><h3 id="pc-x86-64-linux-추천-모델-변환용" tabindex="-1">PC (x86_64, Linux 추천) - 모델 변환용 <a class="header-anchor" href="#pc-x86-64-linux-추천-모델-변환용" aria-label="Permalink to “PC (x86_64, Linux 추천) - 모델 변환용”">​</a></h3><p>RKNN 모델 변환은 보드가 아닌 성능 좋은 PC에서 수행해야 합니다.</p><ol><li><strong>Anaconda/Miniconda 설치</strong></li><li><strong>RKNN-Toolkit2 설치</strong>:<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/airockchip/rknn-toolkit2</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rknn-toolkit2/rknn-toolkit2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packages/rknn_toolkit2-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.whl</span></span></code></pre></div></li><li><strong>PyTorch &amp; OpenAI Whisper 설치</strong>:<div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> torch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openai-whisper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> onnx</span></span></code></pre></div></li></ol><h3 id="보드-rk3588-등-실행용" tabindex="-1">보드 (RK3588 등) - 실행용 <a class="header-anchor" href="#보드-rk3588-등-실행용" aria-label="Permalink to “보드 (RK3588 등) - 실행용”">​</a></h3><ol><li><strong>RKNPU2 드라이버 확인</strong>: 최신 펌웨어 설치.</li><li><strong>rknn-toolkit2-lite (Python) 혹은 rknn-api (C++)</strong> 라이브러리 설치.</li></ol><h2 id="모델-변환-step-by-step" tabindex="-1">모델 변환 (Step-by-Step) <a class="header-anchor" href="#모델-변환-step-by-step" aria-label="Permalink to “모델 변환 (Step-by-Step)”">​</a></h2><p>이 과정이 가장 중요합니다. PyTorch 모델에서 Encoder만 떼어내어 RKNN으로 만듭니다.</p><h3 id="pytorch-rightarrow-onnx-encoder-export" tabindex="-1">PyTorch <mjx-container class="MathJax" jax="SVG" style="direction:ltr;position:relative;"><svg style="overflow:visible;min-height:1px;min-width:1px;vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z" style="stroke-width:3;"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline" style="top:0px;left:0px;clip:rect(1px, 1px, 1px, 1px);-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;padding:1px 0px 0px 0px;border:0px;display:block;width:auto;overflow:hidden;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container> ONNX (Encoder Export) <a class="header-anchor" href="#pytorch-rightarrow-onnx-encoder-export" aria-label="Permalink to “PyTorch  ONNX (Encoder Export)”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> onnx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 모델 로드 (예: tiny, base, small)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper.load_model(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;base&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">encoder </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> model.encoder</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">encoder.eval()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 더미 입력 생성 (Batch, Mel_bins, Time)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Whisper base는 80 mel bins, 3000 frames (30초)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dummy_input </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.randn(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. ONNX로 내보내기</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">torch.onnx.export(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    encoder,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dummy_input,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;whisper_encoder.onnx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    opset_version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    input_names</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    output_names</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;last_hidden_state&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    dynamic_axes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # NPU 고정 입력을 위해 dynamic axes 비활성화 권장</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ONNX Export 완료!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="onnx-rightarrow-rknn-변환" tabindex="-1">ONNX <mjx-container class="MathJax" jax="SVG" style="direction:ltr;position:relative;"><svg style="overflow:visible;min-height:1px;min-width:1px;vertical-align:-0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" role="img" focusable="false" viewBox="0 -511 1000 522" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z" style="stroke-width:3;"></path></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline" style="top:0px;left:0px;clip:rect(1px, 1px, 1px, 1px);-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;padding:1px 0px 0px 0px;border:0px;display:block;width:auto;overflow:hidden;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">→</mo></math></mjx-assistive-mml></mjx-container> RKNN 변환 <a class="header-anchor" href="#onnx-rightarrow-rknn-변환" aria-label="Permalink to “ONNX  RKNN 변환”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rknn.api </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> RKNN</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. RKNN 객체 생성</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rknn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RKNN()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 설정 (RK3588 기준)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rknn.config(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">mean_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">std_values</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]], </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">target_platform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;rk3588&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. ONNX 로드</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--&gt; Loading ONNX model&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ret </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rknn.load_onnx(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./whisper_encoder.onnx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ret </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Load model failed!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ret)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 4. 모델 빌드 (FP16이 NPU 성능/정확도 밸런스가 좋음)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--&gt; Building model&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ret </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rknn.build(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">do_quantization</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 혹은 True로 설정하여 i8 양자화 시도 가능</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ret </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Build model failed!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ret)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5. RKNN 저장</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;--&gt; Export rknn model&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ret </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rknn.export_rknn(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./whisper_encoder.rknn&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ret </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Export rknn model failed!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    exit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ret)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RKNN 변환 완료!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h2 id="추론-구현-board-side" tabindex="-1">추론 구현 (Board Side) <a class="header-anchor" href="#추론-구현-board-side" aria-label="Permalink to “추론 구현 (Board Side)”">​</a></h2><p>보드에서는 Python 또는 C++로 추론을 수행합니다. 여기서는 이해하기 쉬운 Python 예시를 듭니다.</p><h3 id="python-추론-코드-간소화-버전" tabindex="-1">Python 추론 코드 (간소화 버전) <a class="header-anchor" href="#python-추론-코드-간소화-버전" aria-label="Permalink to “Python 추론 코드 (간소화 버전)”">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> numpy </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> np</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rknn.api </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RKNNLite </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 보드에서는 Lite 버전 사용</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 오디오 전처리 (Whisper 라이브러리 활용)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper.load_audio(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test.wav&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audio </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper.pad_or_trim(audio)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper.log_mel_spectrogram(audio).numpy()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> np.expand_dims(mel, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">axis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># (1, 80, 3000)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. RKNN 초기화 및 Encoder 실행</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rknn_lite </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RKNNLite()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rknn_lite.load_rknn(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./whisper_encoder.rknn&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rknn_lite.init_runtime(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">core_mask</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RKNNLite.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NPU_CORE_0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># NPU 추론 (Encoder)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">outputs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rknn_lite.inference(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">inputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[mel])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">npu_features </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> torch.from_numpy(outputs[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 결과: (1, 1500, 512) 등</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. Decoder 실행 (CPU)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 원본 Whisper 모델의 디코더에 NPU가 계산한 feature를 주입</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper.load_model(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;base&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> whisper.DecodingOptions()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> model.decode(npu_features, options)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;결과:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, result.text)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 리소스 해제</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">rknn_lite.release()</span></span></code></pre></div><h2 id="추천-오픈소스-및-학습-자료" tabindex="-1">추천 오픈소스 및 학습 자료 <a class="header-anchor" href="#추천-오픈소스-및-학습-자료" aria-label="Permalink to “추천 오픈소스 및 학습 자료”">​</a></h2><p>처음부터 모두 구현하기 어렵다면, 이미 잘 만들어진 프로젝트를 분석하는 것이 가장 빠른 학습법입니다.</p><h3 id="rockchip-linux-rknn-toolkit2-공식" tabindex="-1">rockchip-linux/rknn-toolkit2 (공식) <a class="header-anchor" href="#rockchip-linux-rknn-toolkit2-공식" aria-label="Permalink to “rockchip-linux/rknn-toolkit2 (공식)”">​</a></h3><ul><li>Rockchip 공식 예제 폴더(<code>examples</code>)에 Whisper가 포함되어 있는 경우가 있습니다. (버전에 따라 다름)</li></ul><h3 id="useful-rknn-whisper-rknn-추천" tabindex="-1">useful-rknn / whisper-rknn (추천) <a class="header-anchor" href="#useful-rknn-whisper-rknn-추천" aria-label="Permalink to “useful-rknn / whisper-rknn (추천)”">​</a></h3><p>Github에서 <code>useful-transformers</code> 혹은 <code>rknn-whisper</code>를 검색하면 나오는 프로젝트들은 대부분 <strong>Encoder(NPU) + Decoder(CPU)</strong> 방식을 사용합니다.</p><ul><li><strong>aishell</strong>: 중국 개발자 커뮤니티에서 Rockchip용 Whisper 포팅이 활발합니다.</li><li><strong>monitor-lizard/rknn-whisper</strong>: 이와 유사한 프로젝트를 찾아보시면 C++ 기반의 고성능 구현체를 볼 수 있습니다.</li></ul><h3 id="whisper-cpp-활용" tabindex="-1">whisper.cpp 활용 <a class="header-anchor" href="#whisper-cpp-활용" aria-label="Permalink to “whisper.cpp 활용”">​</a></h3><p>가장 현실적인 고성능 솔루션은 <strong>whisper.cpp</strong> 프로젝트가 RK3588의 NPU를 지원하는지 확인하는 것입니다. 최근 whisper.cpp는 다양한 백엔드를 지원하려 노력 중이며, 일부 포크(Fork) 버전에서 RKNN 백엔드를 실험적으로 지원합니다.</p><h2 id="요약-학습-포인트" tabindex="-1">요약 (학습 포인트) <a class="header-anchor" href="#요약-학습-포인트" aria-label="Permalink to “요약 (학습 포인트)”">​</a></h2><ol><li><strong>변환 대상 선정</strong>: Whisper 전체를 변환하려 하지 말고 <strong>Encoder</strong>만 변환하십시오.</li><li><strong>데이터 타입</strong>: <code>FP16</code> 모드로 빌드하는 것이 정확도에 좋습니다. <code>INT8</code> 양자화는 소리 인식률을 크게 떨어뜨릴 수 있습니다.</li><li><strong>하이브리드 파이프라인</strong>: Python에서 <code>RKNNLite</code>(Encoder)와 <code>PyTorch</code>(Decoder)를 섞어 쓰는 방식으로 프로토타입을 먼저 만드세요. 그 후 C++로 이식하여 속도를 최적화하는 순서를 추천합니다.</li></ol></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/minipi_textbook/ai-app/yolo.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>YOLO AI 이용해서 물체 인식하기</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/minipi_textbook/ai-app/rkllama.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>LLM 사용하기</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"ai-app_basic.md\":\"BOOnMtC5\",\"ai-app_index.md\":\"tUJ3cHFi\",\"ai-app_rkllama.md\":\"YqRXiw1X\",\"ai-app_voice.md\":\"CSW_dFHI\",\"ai-app_yolo.md\":\"80S03dXX\",\"demo_ball_goal.md\":\"BYfN_4WV\",\"demo_ball_tracking.md\":\"CMiT5JhD\",\"demo_index.md\":\"CUwa_g5S\",\"demo_using_llm.md\":\"a5APEjrk\",\"demo_web_gui.md\":\"BEBTdW0i\",\"hardware_comm.md\":\"7nbnlgPC\",\"hardware_control.md\":\"Q8GS1Xj0\",\"hardware_index.md\":\"BIMpI2QJ\",\"hardware_input.md\":\"ZSBiRp97\",\"hardware_mech.md\":\"DyggyTWS\",\"hardware_output.md\":\"C4_LLJ8S\",\"hardware_servo.md\":\"DXxAsYZi\",\"hardware_spec.md\":\"CNr2ZVC-\",\"index.md\":\"B8y929-A\",\"repair_index.md\":\"De1y_bOu\",\"repair_maintain.md\":\"Cby933Ix\",\"repair_repair_cable.md\":\"D0xCqJP0\",\"repair_repair_noboot.md\":\"BsSYSyt7\",\"rl-adv_imtation.md\":\"BCMs3sFI\",\"rl-adv_index.md\":\"B0Guytyq\",\"rl-adv_release.md\":\"BdF0Jo_C\",\"rl-adv_walk.md\":\"D4_ZMVsP\",\"robot-app_basic.md\":\"KytrNzSy\",\"robot-app_index.md\":\"B72uv7QU\",\"robot-app_move.md\":\"DA9Mx2fi\",\"robot-app_node.md\":\"CVyzX5z1\",\"robot-app_opencv.md\":\"DXHs4YLC\",\"robot-app_qrcode.md\":\"DqsUr8k0\",\"robot-app_remote.md\":\"CREIYngb\",\"robot-app_webui.md\":\"Dut0BhGK\",\"ros-basic_index.md\":\"DLuz3OwO\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Mini Pi Guide\",\"description\":\"2족 보행 로봇 활용\",\"base\":\"/minipi_textbook/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"WeGo\",\"link\":\"https://wego-robotics.com/\"}],\"sidebar\":{\"/hardware/\":[{\"text\":\"Mini Pi 로봇의 하드웨어\",\"items\":[{\"text\":\"개요\",\"link\":\"/hardware/\"},{\"text\":\"사양 파악하기\",\"link\":\"/hardware/spec\"},{\"text\":\"기계 기구부\",\"link\":\"/hardware/mech\"},{\"text\":\"구동계(엑추에이터)\",\"link\":\"/hardware/servo\"},{\"text\":\"제어 시스템\",\"link\":\"/hardware/control\"},{\"text\":\"통신 시스템\",\"link\":\"/hardware/comm\"},{\"text\":\"입력 장치(센서)\",\"link\":\"/hardware/input\"},{\"text\":\"출력 장치\",\"link\":\"/hardware/output\"}]}],\"/robot-app/\":[{\"text\":\"Mini Pi 로봇의 응용\",\"items\":[{\"text\":\"개요\",\"link\":\"/robot-app/\"},{\"text\":\"기본 사용법\",\"link\":\"/robot-app/basic\"},{\"text\":\"노드 매니저\",\"link\":\"/robot-app/node\"},{\"text\":\"로봇의 이동\",\"link\":\"/robot-app/move\"},{\"text\":\"웹UI 다루기\",\"link\":\"/robot-app/webui\"},{\"text\":\"원격 제어\",\"link\":\"/robot-app/remote\"},{\"text\":\"물체 추적\",\"link\":\"/robot-app/opencv\"},{\"text\":\"마커 인식\",\"link\":\"/robot-app/qrcode\"}]}],\"/ai-app/\":[{\"text\":\"Mini Pi 로봇과 AI 기본\",\"items\":[{\"text\":\"개요\",\"link\":\"/ai-app/\"},{\"text\":\"로봇에서 NPU 사용하기\",\"link\":\"/ai-app/basic\"},{\"text\":\"YOLO AI 이용해서 물체 인식하기\",\"link\":\"/ai-app/yolo\"},{\"text\":\"음성인식 & TTS\",\"link\":\"/ai-app/voice\"},{\"text\":\"LLM 사용하기\",\"link\":\"/ai-app/rkllama\"}]}],\"/rl-adv/\":[{\"text\":\"Mini Pi 로봇과 AI 심화\",\"items\":[{\"text\":\"개요\",\"link\":\"/rl-adv/\"},{\"text\":\"보행 강화 학습\",\"link\":\"/rl-adv/walk\"},{\"text\":\"영상 모방 학습\",\"link\":\"/rl-adv/imtation\"},{\"text\":\"AI 모델 배포\",\"link\":\"/rl-adv/release\"}]}],\"/repair/\":[{\"text\":\"Mini Pi 로봇의 유지보수\",\"items\":[{\"text\":\"개요\",\"link\":\"/repair/\"},{\"text\":\"큰 고장을 막기 위한 관찰\",\"link\":\"/repair/maintain\"},{\"text\":\"관절 케이블 교체 수리 방법\",\"link\":\"/repair/repair_cable\"},{\"text\":\"부팅 안 될 경우 수리 방법\",\"link\":\"/repair/repair_noboot\"}]}],\"/demo/\":[{\"text\":\"Mini Pi 데모 매뉴얼\",\"items\":[{\"text\":\"개요\",\"link\":\"/demo/\"},{\"text\":\"공 추적\",\"link\":\"/demo/ball_tracking\"},{\"text\":\"공 골대 넣기\",\"link\":\"/demo/ball_goal\"},{\"text\":\"LLM 사용\",\"link\":\"/demo/using_llm\"},{\"text\":\"웹 GUI 사용\",\"link\":\"/demo/web_gui\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/WeGo-Robotics\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>